(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{VCm2:function(t,e,n){"use strict";n.r(e),n.d(e,"ClientModule",function(){return jt});var i=n("ofXK"),a=n("tyNb"),o=n("3Pt+"),l=n("7of8"),c=n("FpXt"),r=n("fXoL"),s=n("rRxC"),m=n("7EHt"),b=n("NFeN");function p(t,e){if(1&t&&(r.Sb(0,"div",5),r.Sb(1,"mat-expansion-panel"),r.Sb(2,"mat-expansion-panel-header"),r.Sb(3,"h2",6),r.Sb(4,"mat-icon"),r.zc(5,"arrow_drop_down_circle"),r.Rb(),r.Sb(6,"span",7),r.zc(7),r.Rb(),r.Rb(),r.Rb(),r.Sb(8,"p"),r.zc(9),r.Rb(),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Bb(7),r.Ac(t.serviceName),r.Bb(2),r.Ac(t.description)}}const d=function(t){return{hide:t}};let u=(()=>{class t{constructor(t){this.service=t}ngOnInit(){this.service.getServices().subscribe(t=>{this.services=t.data})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-services-list"]],decls:18,vars:7,consts:[[1,"container"],[2,"text-align","center","padding-top","10px"],[1,"inner-container"],["style","margin: 10px",4,"ngFor","ngForOf"],[3,"ngClass"],[2,"margin","10px"],[1,"material-icons"],["id","header"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1",1),r.zc(2,"Our Services"),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"div"),r.zc(5," Our reception areas are comfortable and stocked with attractive items for your pets. As well as our three consulting rooms we have modern glass-fronted kennels for pets spending the day with us, an x-ray suite and prep room, a fully equipped modern operating theatre and a pharmacy room. Our dental units provide facilities for all normal veterinary procedures. Diagnostic and surgical facilities include x-ray, ultrasound, electrocardiography, Doppler blood pressure, and a range of diagnostic endoscopes. These are explained in more detail below. "),r.Nb(6,"br"),r.Nb(7,"hr"),r.Nb(8,"br"),r.Rb(),r.Sb(9,"div"),r.Sb(10,"mat-accordion"),r.yc(11,p,10,2,"div",3),r.Sb(12,"div",4),r.Sb(13,"h2"),r.zc(14," Loading data..."),r.Rb(),r.Rb(),r.Sb(15,"div",4),r.Sb(16,"h2"),r.zc(17," No data."),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.jc("ngForOf",e.services),r.Bb(1),r.jc("ngClass",r.mc(3,d,null!=e.services)),r.Bb(3),r.jc("ngClass",r.mc(5,d,!(null!=e.services&&0==e.services.length))))},directives:[m.a,i.k,i.j,m.c,m.e,b.a],styles:[".material-icons[_ngcontent-%COMP%]{margin:5px;vertical-align:middle}.inner-container[_ngcontent-%COMP%]{width:67%;text-align:justify;margin-left:200px}span#header[_ngcontent-%COMP%]:hover{text-decoration:underline}.hide[_ngcontent-%COMP%]{display:none}"]}),t})();var g=n("Wp6s"),h=n("bTqV");const f=function(){return["client/make-appointment"]};let v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-landing-make-appointment"]],decls:5,vars:2,consts:[["mat-raised-button","",3,"routerLink"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"ul"),r.Sb(2,"li"),r.Sb(3,"button",0),r.zc(4,"Make Appointment"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(3),r.jc("routerLink",r.lc(1,f)))},directives:[g.a,h.a,a.c],styles:["mat-card[_ngcontent-%COMP%]{height:300px;width:595px;margin:40px auto;color:#fff;background-image:url(mainMakeAppointment.fdb2279ad4c592cdcd14.jpg)}ul[_ngcontent-%COMP%]{padding-left:0;height:100%;width:100%;display:table;table-layout:fixed}li[_ngcontent-%COMP%]{display:table-cell;text-align:center;vertical-align:middle;word-wrap:break-word}"]}),t})(),S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"app-landing-make-appointment")},directives:[v],styles:[""]}),t})();var C=n("0IaG"),R=n("H+bZ"),x=n("lGQG"),y=n("kmnG"),w=n("qFsG"),M=n("d3UM"),O=n("f0Cb"),P=n("FKr1");function N(t,e){if(1&t&&(r.Sb(0,"mat-option",15),r.zc(1),r.Rb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Bb(1),r.Bc(" ",t.animalTypeName," ")}}let _=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.apiService=n,this.authService=i,this.animalNameControl=new o.d("",[o.t.required]),this.animalAgeControl=new o.d(null,[o.t.required]),this.animalTypeControl=new o.d("",[o.t.required]),this.animalGroup=new o.g({animalName:this.animalNameControl,animalAge:this.animalAgeControl,animalType:this.animalTypeControl})}ngOnInit(){this.getAnimalTypes()}getAnimalTypes(){this.apiService.getEntity("animalTypes").subscribe(t=>{this.animalTypes=t.data})}onSubmit(){let t;this.apiService.getEntity("clients",{userId:this.authService.userData.sub}).subscribe(e=>{t=e.data[0].id,this.apiService.addEntity("animals",{clientId:t,animalTypeId:this.animalTypeControl.value,name:this.animalNameControl.value,age:this.animalAgeControl.value,photo:""}).subscribe(t=>{this.data={id:t.data.id,photo:t.data.photo,name:t.data.name,age:t.data.age,animalTypeId:t.data.animalTypeId,animalTypeName:t.data.animalTypeName,client:t.data.client,isDeleted:!1},this.dialogRef.close(this.data),console.log(t)},t=>{console.log(t)})})}onNoClick(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.f),r.Mb(C.a),r.Mb(R.a),r.Mb(x.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-add-animal"]],decls:24,vars:6,consts:[[1,"add-animal-container"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"column"],["name","name","ngDefaultControl","",1,"example-full-width"],["matInput","","placeholder","Ex. Pushok",3,"formControl"],["name","age","ngDefaultControl","",1,"example-full-width"],["matInput","","type","number",3,"formControl"],["appearance","fill"],["name","type",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"actions"],["mat-raised-button","","type","reset",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"mat-form-field",5),r.Sb(6,"mat-label"),r.zc(7,"Animal's name"),r.Rb(),r.Nb(8,"input",6),r.Rb(),r.Sb(9,"mat-form-field",7),r.Sb(10,"mat-label"),r.zc(11,"Animal's age"),r.Rb(),r.Nb(12,"input",8),r.Rb(),r.Sb(13,"mat-form-field",9),r.Sb(14,"mat-label"),r.zc(15,"Choose animal type"),r.Rb(),r.Sb(16,"mat-select",10),r.yc(17,N,2,2,"mat-option",11),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Nb(18,"mat-divider"),r.Sb(19,"div",12),r.Sb(20,"button",13),r.Zb("click",function(){return e.onNoClick()}),r.zc(21,"Cancel"),r.Rb(),r.Sb(22,"button",14),r.zc(23,"Accept"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.jc("formGroup",e.animalGroup),r.Bb(6),r.jc("formControl",e.animalNameControl),r.Bb(4),r.jc("formControl",e.animalAgeControl),r.Bb(4),r.jc("formControl",e.animalTypeControl),r.Bb(1),r.jc("ngForOf",e.animalTypes),r.Bb(5),r.jc("disabled",e.animalGroup.invalid))},directives:[g.a,o.u,o.n,o.h,y.c,o.b,y.f,w.b,o.m,o.e,o.q,M.a,i.k,O.a,h.a,P.n],styles:[".add-animal-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.container[_ngcontent-%COMP%]{padding:20px;width:680px}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.column[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:297px;padding:20px}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();const z=function(){return["edit-client"]};let I=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(x.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-client-main-info"]],inputs:{client:"client"},decls:13,vars:7,consts:[["id","main-info-div"],["id","mainInfoDiv"],["id","nameCell"],["id","emailCell"],["id","phoneNumberCell"],[1,"settings"],["mat-mini-fab","","aria-label","Example icon button with a heart icon",1,"settings_btn",3,"routerLink","color"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card"),r.Sb(2,"div",1),r.Sb(3,"p",2),r.zc(4),r.Rb(),r.Sb(5,"p",3),r.zc(6),r.Rb(),r.Sb(7,"p",4),r.zc(8),r.Rb(),r.Rb(),r.Sb(9,"div",5),r.Sb(10,"button",6),r.Sb(11,"mat-icon"),r.zc(12,"settings"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(4),r.Cc("",null==e.client?null:e.client.firstName," ",null==e.client?null:e.client.lastName,""),r.Bb(2),r.Ac(null==e.client?null:e.client.email),r.Bb(2),r.Ac(null==e.client?null:e.client.phoneNumber),r.Bb(2),r.jc("routerLink",r.lc(6,z))("color","primary"))},directives:[g.a,h.a,a.c,b.a],styles:["#edit-button[_ngcontent-%COMP%]{float:right}#tablecell-button[_ngcontent-%COMP%]{width:250px}#main-info-div[_ngcontent-%COMP%]{width:800px}.settings[_ngcontent-%COMP%]{position:absolute;bottom:25px;right:20px;cursor:pointer}#nameCell[_ngcontent-%COMP%]{font-weight:700;font-size:25px;margin-bottom:20px}#emailCell[_ngcontent-%COMP%], #phoneNumberCell[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-style:italic;font-size:18px;margin-top:20px}"]}),t})(),A=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-create-animal-item"]],decls:11,vars:0,consts:[[1,"container"],["matRipple",""],["mat-raised-button","","color","primary",1,"add"],["color",""],[1,"content"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"button",2),r.Sb(3,"mat-icon",3),r.zc(4,"add_box"),r.Rb(),r.Rb(),r.Sb(5,"mat-card-content"),r.Sb(6,"div",4),r.Sb(7,"div"),r.zc(8," Add "),r.Nb(9,"br"),r.zc(10," animal "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())},directives:[g.a,P.s,h.a,b.a,g.b],styles:["mat-card[_ngcontent-%COMP%]{position:relative;display:inline-block;width:150px;height:220px}mat-icon[_ngcontent-%COMP%]{font-size:150px}.content[_ngcontent-%COMP%]{padding-top:12px;text-align:center;font-size:18px;font-weight:500;line-height:1.4}.add[_ngcontent-%COMP%]{cursor:pointer;width:150px;height:150px;position:relative}mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]}),t})();var j=n("9j7D"),B=n("MutI"),k=n("A5z7");function T(t,e){if(1&t&&(r.Sb(0,"div"),r.Nb(1,"mat-divider"),r.Sb(2,"div",11),r.Sb(3,"h4"),r.zc(4,"Treatment:"),r.Rb(),r.zc(5),r.Rb(),r.Rb()),2&t){const t=r.dc().$implicit;r.Bb(5),r.Bc(" ",null==t?null:t.treatmentDescription," ")}}function F(t,e){if(1&t&&(r.Sb(0,"mat-chip-list"),r.Sb(1,"mat-chip"),r.zc(2),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Bb(2),r.Bc(" ",null==t?null:t.procedureName,"")}}function q(t,e){if(1&t&&(r.Sb(0,"div"),r.Nb(1,"mat-divider"),r.Sb(2,"div",12),r.Sb(3,"div",13),r.Sb(4,"div"),r.Sb(5,"h4"),r.zc(6,"Procedures:"),r.Rb(),r.yc(7,F,3,1,"mat-chip-list",14),r.Rb(),r.Sb(8,"div",15),r.zc(9," Total: "),r.Sb(10,"b"),r.zc(11),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.dc(),e=t.$implicit,n=t.index,i=r.dc();r.Bb(7),r.jc("ngForOf",null==e?null:e.performedProcedures),r.Bb(4),r.Ac(i.totalPrices[n])}}function D(t,e){if(1&t&&(r.Sb(0,"div"),r.Nb(1,"mat-divider"),r.Sb(2,"div",16),r.Sb(3,"h4"),r.zc(4),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.dc().$implicit;r.Bb(4),r.Cc("Assigned doctor: ",null==t||null==t.doctor?null:t.doctor.firstName," ",null==t||null==t.doctor?null:t.doctor.lastName,"")}}function E(t,e){if(1&t&&(r.Sb(0,"div",1),r.Sb(1,"mat-accordion"),r.Sb(2,"mat-expansion-panel",2),r.Sb(3,"mat-expansion-panel-header"),r.Sb(4,"div",3),r.Sb(5,"div",4),r.Nb(6,"img",5),r.Rb(),r.Sb(7,"div",6),r.Sb(8,"mat-list",7),r.Sb(9,"mat-list-item",8),r.zc(10),r.Rb(),r.Sb(11,"mat-list-item",8),r.zc(12),r.Rb(),r.Sb(13,"mat-list-item",8),r.zc(14),r.Rb(),r.Rb(),r.Sb(15,"mat-list",7),r.Sb(16,"mat-list-item",8),r.zc(17),r.ec(18,"date"),r.Rb(),r.Sb(19,"mat-list-item",8),r.zc(20),r.ec(21,"date"),r.Rb(),r.Sb(22,"mat-list-item",8),r.zc(23),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"div",9),r.Sb(25,"h4"),r.zc(26,"Complains:"),r.Rb(),r.zc(27),r.Rb(),r.yc(28,T,6,1,"div",10),r.yc(29,q,12,2,"div",10),r.yc(30,D,5,2,"div",10),r.Rb(),r.Rb(),r.Rb()),2&t){const t=e.$implicit,n=r.dc();r.Bb(10),r.Cc("",null==t||null==t.client?null:t.client.firstName," ",null==t||null==t.client?null:t.client.lastName,""),r.Bb(2),r.Ac(null==t||null==t.animal?null:t.animal.name),r.Bb(2),r.Ac(null==t||null==t.service?null:t.service.serviceName),r.Bb(3),r.Bc(" Time: ",r.gc(18,11,null==t?null:t.appointmentDate,"shortTime"),""),r.Bb(3),r.Bc(" Date: ",r.fc(21,14,null==t?null:t.appointmentDate),""),r.Bb(3),r.Bc("Status: ",null==t||null==t.status?null:t.status.statusName,""),r.Bb(4),r.Bc(" ",null==t?null:t.complaints," "),r.Bb(1),r.jc("ngIf",(null==t||null==t.status?null:t.status.id)===n.getStatus().Completed),r.Bb(1),r.jc("ngIf",(null==t||null==t.status?null:t.status.id)===n.getStatus().Completed),r.Bb(1),r.jc("ngIf",(null==t||null==t.status?null:t.status.id)===n.getStatus().Completed||(null==t||null==t.status?null:t.status.id)===n.getStatus().Approved)}}let G=(()=>{class t{constructor(t,e){this.apiService=t,this.authService=e}set animalId(t){null!=t?this.getAppointment(t):this.getAppointment()}ngOnInit(){}getStatus(){return j.a}getAppointment(t){this.apiService.getEntity("clients",{userId:this.authService.userData.sub}).subscribe(e=>{const n=e.data[0].id;let i;i=null!=t?{clientId:n.toString(),animalId:t.toString()}:{clientId:n.toString()},this.apiService.getEntity("appointments",i).subscribe(t=>{this.appointments=t.data,this.totalPrices=[this.appointments.length],this.appointments.forEach((t,e)=>{var n;this.totalPrices[e]=null===(n=t.performedProcedures)||void 0===n?void 0:n.reduce((t,e)=>t+e.price,0)})})})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(R.a),r.Mb(x.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-client-appointment"]],inputs:{animalId:"animalId"},decls:1,vars:1,consts:[["class","appointment-container",4,"ngFor","ngForOf"],[1,"appointment-container"],["hideToggle",""],[1,"row","header"],[1,"header-image"],["src","https://material.angular.io/assets/img/examples/shiba1.jpg","alt","avatar"],[1,"row"],["role","list"],["role","listitem"],[1,"description","complains"],[4,"ngIf"],[1,"description","treatment"],[1,"description","extra"],[1,"row","procedures"],[4,"ngFor","ngForOf"],[1,"price"],[1,"doctor"]],template:function(t,e){1&t&&r.yc(0,E,31,16,"div",0),2&t&&r.jc("ngForOf",e.appointments)},directives:[i.k,m.a,m.c,m.e,B.a,B.b,i.l,O.a,k.c,k.a],pipes:[i.e],styles:[".appointment-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding-bottom:20px}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]{justify-content:flex-start}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:40px 20px;border-bottom:1px solid hsla(0,0%,77.3%,.664);border-radius:0}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0 24px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{height:20px}.header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-top:7px}.description[_ngcontent-%COMP%]{margin:10px 0}.description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-top:10px}.procedures[_ngcontent-%COMP%]{margin-bottom:20px}.price[_ngcontent-%COMP%]{align-self:center;justify-self:end;font-size:large;margin:14px 50px 0}.doctor[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:20px}"]}),t})();var L=n("R0Ic"),Z=n("2OWn");function $(t,e){if(1&t&&(r.Sb(0,"mat-option",15),r.zc(1),r.Rb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Bb(1),r.Bc(" ",t.animalTypeName," ")}}let U=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.apiService=n,this.animalNameControl=new o.d("",[o.t.required]),this.animalAgeControl=new o.d(null,[o.t.required]),this.animalTypeControl=new o.d("",[o.t.required]),this.animalData=e,this.animalGroup=new o.g({animalName:this.animalNameControl,animalAge:this.animalAgeControl,animalType:this.animalTypeControl})}ngOnInit(){this.getAnimalTypes()}getAnimalTypes(){this.apiService.getEntity("animalTypes").subscribe(t=>{this.animalTypes=t.data})}onSubmit(){const t={animalTypeId:this.animalTypeControl.value,name:this.animalNameControl.value,age:this.animalAgeControl.value,photo:""};this.apiService.updateEntity("animals",this.animalData.id?this.animalData.id:0,t).subscribe(()=>{this.data={id:this.animalData.id,photo:t.photo,name:t.name,age:t.age,animalTypeId:t.animalTypeId,animalTypeName:this.animalTypes.find(t=>t.id==this.animalTypeControl.value).animalTypeName,client:this.animalData.client,isDeleted:!1},this.dialogRef.close(this.data),console.log(this.data)},t=>{console.log(t)})}onNoClick(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.f),r.Mb(C.a),r.Mb(R.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-edit-animal"]],decls:24,vars:6,consts:[[1,"edit-animal-container"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"column"],["name","name","ngDefaultControl","",1,"example-full-width"],["matInput","","placeholder","Ex. Pushok",3,"formControl"],["name","age","ngDefaultControl","",1,"example-full-width"],["matInput","","type","number",3,"formControl"],["appearance","fill"],["name","type",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"actions"],["mat-raised-button","","type","reset",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"mat-form-field",5),r.Sb(6,"mat-label"),r.zc(7,"Animal's name"),r.Rb(),r.Nb(8,"input",6),r.Rb(),r.Sb(9,"mat-form-field",7),r.Sb(10,"mat-label"),r.zc(11,"Animal's age"),r.Rb(),r.Nb(12,"input",8),r.Rb(),r.Sb(13,"mat-form-field",9),r.Sb(14,"mat-label"),r.zc(15,"Choose animal type"),r.Rb(),r.Sb(16,"mat-select",10),r.yc(17,$,2,2,"mat-option",11),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Nb(18,"mat-divider"),r.Sb(19,"div",12),r.Sb(20,"button",13),r.Zb("click",function(){return e.onNoClick()}),r.zc(21,"Cancel"),r.Rb(),r.Sb(22,"button",14),r.zc(23,"Accept"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.jc("formGroup",e.animalGroup),r.Bb(6),r.jc("formControl",e.animalNameControl),r.Bb(4),r.jc("formControl",e.animalAgeControl),r.Bb(4),r.jc("formControl",e.animalTypeControl),r.Bb(1),r.jc("ngForOf",e.animalTypes),r.Bb(5),r.jc("disabled",e.animalGroup.invalid))},directives:[g.a,o.u,o.n,o.h,y.c,o.b,y.f,w.b,o.m,o.e,o.q,M.a,i.k,O.a,h.a,P.n],styles:[".edit-animal-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.container[_ngcontent-%COMP%]{padding:20px;width:680px}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.column[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:297px;padding:20px}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();function V(t,e){if(1&t&&r.Nb(0,"img",12),2&t){const t=r.dc(2);r.jc("alt",t.animal.name)}}function J(t,e){if(1&t&&r.Nb(0,"img",13),2&t){const t=r.dc(2);r.jc("src",null==t.animal?null:t.animal.photo,r.rc)("alt",t.animal.name)}}function H(t,e){if(1&t){const t=r.Tb();r.Sb(0,"mat-card",4),r.Zb("click",function(){return r.qc(t),r.dc().selectAnimal()}),r.Sb(1,"div",5),r.Sb(2,"div",6),r.yc(3,V,1,1,"img",7),r.yc(4,J,1,2,"img",8),r.Rb(),r.Sb(5,"mat-card-content"),r.Sb(6,"div",9),r.Sb(7,"div",10),r.zc(8),r.Rb(),r.Sb(9,"div",11),r.zc(10),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.jc("@active",t.activeAnimal?"active":"*"),r.Bb(3),r.jc("ngIf",!t.animal.photo),r.Bb(1),r.jc("ngIf",t.animal.photo),r.Bb(2),r.jc("ngClass",t.activeAnimal?"color_white":""),r.Bb(2),r.Bc(" ",t.animal.name," "),r.Bb(2),r.Bc(" ",t.animal.animalTypeName," ")}}function K(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",14),r.Zb("click",function(){return r.qc(t),r.dc().openAssessDialog()}),r.Sb(1,"button",15),r.Sb(2,"mat-icon"),r.zc(3,"clear"),r.Rb(),r.Rb(),r.Rb()}}function W(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",16),r.Zb("click",function(){return r.qc(t),r.dc().goToSettings()}),r.Sb(1,"button",17),r.Sb(2,"mat-icon",18),r.zc(3,"settings"),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.Bb(1),r.jc("color",t.activeAnimal?"":"primary"),r.Bb(1),r.jc("color",t.activeAnimal?"primary":"")}}let X=(()=>{class t{constructor(t,e){this.dialog=t,this.apiService=e,this.closedInformation=!0,this.activeAnimalid=new r.o,this.changedAnimal=new r.o,this.created=!1,this.isOpen=!0}toggle(){this.isOpen=!this.isOpen}ngOnInit(){}selectAnimal(){this.activeAnimal?(this.activeAnimal=!this.activeAnimal,this.activeAnimalid.emit(null)):(this.activeAnimal=!this.activeAnimal,this.activeAnimalid.emit(this.animal.id))}goToSettings(){this.dialog.open(U,{width:"250px",data:this.animal}).afterClosed().subscribe(t=>{null!=t&&(this.animal.name=t.name,this.animal.animalTypeName=t.animalTypeName)})}deleteAnimal(){this.animal.isDeleted=!0,this.apiService.updateEntity("animals",null!=this.animal.id?this.animal.id:0,this.animal).subscribe(()=>this.changedAnimal.emit(this.animal)),this.activeAnimal&&this.activeAnimalid.emit(null)}openAssessDialog(){this.dialog.open(Z.a,{data:"Do you really want to remove this animal?"}).afterClosed().subscribe(t=>{t&&this.deleteAnimal()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.b),r.Mb(R.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-animal-item"]],inputs:{animal:"animal",activeAnimal:"activeAnimal"},outputs:{activeAnimalid:"activeAnimalid",changedAnimal:"changedAnimal"},decls:4,vars:3,consts:[[1,"animal_card"],["matRipple","",3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],["class","settings",3,"click",4,"ngIf"],["matRipple","",3,"click"],[1,"card"],[1,"img_container"],["src","assets/img/unknownAnimals.png","class","img",3,"alt",4,"ngIf"],["class","img",3,"src","alt",4,"ngIf"],[1,"content",3,"ngClass"],[1,"animalName"],[1,"animalType"],["src","assets/img/unknownAnimals.png",1,"img",3,"alt"],[1,"img",3,"src","alt"],[1,"delete",3,"click"],["mat-mini-fab","","color","","aria-label","Example icon button with a heart icon",1,"delete_btn"],[1,"settings",3,"click"],["mat-mini-fab","","aria-label","Example icon button with a heart icon",1,"settings_btn",3,"color"],[3,"color"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.yc(1,H,11,6,"mat-card",1),r.yc(2,K,4,0,"div",2),r.yc(3,W,4,2,"div",3),r.Rb()),2&t&&(r.Bb(1),r.jc("ngIf",e.animal),r.Bb(1),r.jc("ngIf",e.closedInformation),r.Bb(1),r.jc("ngIf",e.closedInformation))},directives:[i.l,g.a,P.s,g.b,i.j,h.a,b.a],styles:[".animal_card[_ngcontent-%COMP%]{position:relative}h2[_ngcontent-%COMP%]{text-align:center}.green[_ngcontent-%COMP%]{background-color:#8abc00}mat-card[_ngcontent-%COMP%]{display:inline-block;width:150px;min-height:220px}.list_item[_ngcontent-%COMP%]{padding:10px;position:relative}mat-card-title[_ngcontent-%COMP%]{display:inline;margin-top:20px;margin-right:20px}.img_container[_ngcontent-%COMP%]{position:relative;height:150px;width:150px;border-radius:50%;overflow:hidden;cursor:pointer}.img[_ngcontent-%COMP%]{position:absolute;width:auto;height:100%;min-width:100px}mat-card-content[_ngcontent-%COMP%]{width:auto;color:#252525;margin-top:10px;margin-bottom:10px}.animalName[_ngcontent-%COMP%]{font-weight:500;font-size:18px;max-width:100px}.animalType[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;max-width:100px}.settings[_ngcontent-%COMP%]{bottom:25px;right:20px}.delete[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%]{position:absolute;cursor:pointer}.delete[_ngcontent-%COMP%]{top:10px;right:10px}.delete_btn[_ngcontent-%COMP%]{height:25px;width:25px}.delete_btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;transform:translateY(-5px)}.color_white[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[Object(L.m)("active",[Object(L.j)("active",Object(L.k)({backgroundColor:"#8abc00"})),Object(L.l)("active <=> *",[Object(L.e)("0.5s ease-out")])])]}}),t})();function Q(t,e){if(1&t){const t=r.Tb();r.Sb(0,"app-animal-item",9),r.Zb("activeAnimalid",function(e){return r.qc(t),r.dc(2).notActiveAnimal(e)})("changedAnimal",function(e){return r.qc(t),r.dc(2).changeAnimal(e)}),r.Rb()}if(2&t){const t=e.$implicit,n=r.dc(2);r.jc("animal",t)("activeAnimal",n.activeAnimal==(null==t?null:t.id))}}function Y(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",1),r.Sb(1,"mat-card"),r.Sb(2,"div",2),r.Sb(3,"h2"),r.zc(4,"Client's info"),r.Rb(),r.Nb(5,"app-client-main-info",3),r.Rb(),r.Sb(6,"div",4),r.Sb(7,"h2"),r.zc(8,"Your animals"),r.Rb(),r.Sb(9,"app-create-animal-item",5),r.Zb("click",function(){return r.qc(t),r.dc().openDialog()}),r.Rb(),r.yc(10,Q,1,2,"app-animal-item",6),r.Rb(),r.Nb(11,"mat-divider"),r.Sb(12,"div",7),r.Sb(13,"h2"),r.zc(14,"Appointments"),r.Rb(),r.Nb(15,"app-client-appointment",8),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.Bb(5),r.jc("client",t.client),r.Bb(5),r.jc("ngForOf",t.animals),r.Bb(5),r.jc("animalId",t.activeAnimal)}}let tt=(()=>{class t{constructor(t,e,n){this.dialog=t,this.authService=e,this.apiService=n,this.authService.isLogedIn()?this.initializeClient():console.log("mistake happened")}ngOnInit(){}initializeAnimal(t){let e={clientId:t.toString()};this.apiService.getEntity("animals",e).subscribe(t=>{this.animals=t.data,this.getAnimalTypeData()})}initializeClient(){this.apiService.getEntity("clients",{UserId:this.authService.userData.sub}).subscribe(t=>{this.client=t.data[0],this.initializeAnimal(t.data[0].id)},t=>console.log("error : "+t))}getAnimalTypeData(){this.apiService.getEntity("animaltypes").subscribe(t=>{this.animalTypes=t.data})}notActiveAnimal(t){this.activeAnimal=t}changeAnimal(t){t.isDeleted&&(this.animals=this.animals.filter(e=>e.id!=t.id))}openDialog(){this.dialog.open(_,{width:"250px",data:this.animalData}).afterClosed().subscribe(t=>{null!=t&&(this.getAnimalTypeData(),this.animals.push(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.b),r.Mb(x.a),r.Mb(R.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-client"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["id","maininfo-div"],[3,"client"],["id","animals-div"],[3,"click"],[3,"animal","activeAnimal","activeAnimalid","changedAnimal",4,"ngFor","ngForOf"],["id","appointments-div"],[3,"animalId"],[3,"animal","activeAnimal","activeAnimalid","changedAnimal"]],template:function(t,e){1&t&&r.yc(0,Y,16,3,"div",0),2&t&&r.jc("ngIf",e.authService.isLogedIn())},directives:[i.l,g.a,I,A,i.k,O.a,G,X],styles:["app-animal-item[_ngcontent-%COMP%], app-create-animal-item[_ngcontent-%COMP%]{display:inline-block;margin:6px}app-create-animal-item[_ngcontent-%COMP%]{position:relative;flex-direction:column}#appointments-div[_ngcontent-%COMP%]{margin-top:30px}#appointments-div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}"]}),t})();var et=n("tk/3");let nt=(()=>{class t{constructor(t){this.router=t}mainAppPage(){this.router.navigate([".."])}clientCabinetEnter(){this.router.navigate(["/client"])}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a.b))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var it=n("cfV7");function at(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"User name cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"User name max length is 30"),r.Rb(),r.Rb())}function ot(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"First name cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"First name max length is 30"),r.Rb(),r.Rb())}function lt(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"Last name cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Last name max length is 30"),r.Rb(),r.Rb())}function ct(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"Email cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Email has to match '..@..' format"),r.Rb(),r.Sb(5,"p"),r.zc(6,"Email max length is 50"),r.Rb(),r.Rb())}function rt(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"Phone number cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Phone number must have exactly 12 digits"),r.Rb(),r.Rb())}function st(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"Password cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Password must contain at least one symbol in upper case,"),r.Nb(5,"br"),r.zc(6," one digit and one special symbol"),r.Rb(),r.Rb())}function mt(t,e){1&t&&(r.Sb(0,"div",16),r.Sb(1,"p"),r.zc(2,"Password cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Password must contain at least one symbol in upper case,"),r.Nb(5,"br"),r.zc(6," one digit and one special symbol"),r.Rb(),r.Sb(7,"p"),r.zc(8,"Repeated password must be same as password"),r.Rb(),r.Rb())}let bt=(()=>{class t{constructor(t,e,n,i,a){this.apiService=t,this.http=e,this.authService=n,this.clientService=i,this.emailService=a,this.clientForm=new o.g({userName:new o.d("",[o.t.required,o.t.maxLength(30)]),firstName:new o.d("",[o.t.required,o.t.maxLength(30)]),lastName:new o.d("",[o.t.required,o.t.maxLength(30)]),email:new o.d("",[o.t.required,o.t.maxLength(50),o.t.email]),phoneNumber:new o.d("",[o.t.required,o.t.pattern("^[0-9]{12}$")]),password:new o.d("",[o.t.required,o.t.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]),repeatedPassword:new o.d("",[o.t.required,o.t.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"),this.repeatPasswordValidator()])})}ngOnInit(){}isControlInvalid(t){const e=this.clientForm.controls[t];return e.invalid&&e.touched}onSubmit(){const t=this.clientForm.controls;this.clientForm.invalid?Object.keys(t).forEach(e=>t[e].markAsTouched()):(console.log("input successful"),this.register())}register(){let t={userName:this.clientForm.value.userName,firstName:this.clientForm.value.firstName,lastName:this.clientForm.value.lastName,email:this.clientForm.value.email,phoneNumber:this.clientForm.value.phoneNumber,password:this.clientForm.value.password};this.apiService.addEntity("clients",t).subscribe(e=>{console.log(t),this.emailService.sendRegistrationNotification(t.userName),alert("Registration is successful"),this.clientService.mainAppPage()},e=>{console.log(t),console.log(e)})}cancel(){console.log("cancelled"),this.clientService.mainAppPage()}repeatPasswordValidator(){return t=>{var e,n;return t.value==(null===(n=null===(e=this.clientForm)||void 0===e?void 0:e.get(["password"]))||void 0===n?void 0:n.value)?null:{wrongPassword:!0}}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(R.a),r.Mb(et.b),r.Mb(x.a),r.Mb(nt),r.Mb(it.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-client-register-form"]],decls:55,vars:8,consts:[[1,"container"],[1,"main-card"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"text-center","text-primary"],["class","error",4,"ngIf"],["appearance","fill"],["matInput","","required","","type","text","name","userName","formControlName","userName"],["matInput","","required","","type","text","name","firstName","formControlName","firstName"],["matInput","","required","","type","text","name","lastName","formControlName","lastName"],["matInput","","required","","type","text","name","email","formControlName","email"],["matInput","","required","","type","text","name","phoneNumber","formControlName","phoneNumber"],["matInput","","required","","type","password","name","password","formControlName","password"],["matInput","","required","","type","password","name","repeatedPassword","formControlName","repeatedPassword"],["id","register-button","mat-raised-button","","color","primary","type","submit",1,"form-button"],["id","cancel-button","mat-raised-button","","color","warn","type","button",1,"form-button",3,"click"],[1,"error"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"h1",4),r.zc(5,"Signing up"),r.Rb(),r.Rb(),r.Sb(6,"div",3),r.yc(7,at,5,0,"div",5),r.Sb(8,"mat-form-field",6),r.Sb(9,"mat-label"),r.zc(10,"Username"),r.Rb(),r.Nb(11,"input",7),r.Rb(),r.Rb(),r.Sb(12,"div",3),r.yc(13,ot,5,0,"div",5),r.Sb(14,"mat-form-field",6),r.Sb(15,"mat-label"),r.zc(16,"First name"),r.Rb(),r.Nb(17,"input",8),r.Rb(),r.Rb(),r.Sb(18,"div",3),r.yc(19,lt,5,0,"div",5),r.Sb(20,"mat-form-field",6),r.Sb(21,"mat-label"),r.zc(22,"Last name"),r.Rb(),r.Nb(23,"input",9),r.Rb(),r.Rb(),r.Sb(24,"div",3),r.yc(25,ct,7,0,"div",5),r.Sb(26,"mat-form-field",6),r.Sb(27,"mat-label"),r.zc(28,"Email"),r.Rb(),r.Nb(29,"input",10),r.Rb(),r.Rb(),r.Sb(30,"div",3),r.yc(31,rt,5,0,"div",5),r.Sb(32,"mat-form-field",6),r.Sb(33,"mat-label"),r.zc(34,"Phone"),r.Rb(),r.Nb(35,"input",11),r.Rb(),r.Rb(),r.Sb(36,"div",3),r.yc(37,st,7,0,"div",5),r.Sb(38,"mat-form-field",6),r.Sb(39,"mat-label"),r.zc(40,"Password"),r.Rb(),r.Nb(41,"input",12),r.Rb(),r.Rb(),r.Sb(42,"div",3),r.yc(43,mt,9,0,"div",5),r.Sb(44,"mat-form-field",6),r.Sb(45,"mat-label"),r.zc(46,"Repeated password"),r.Rb(),r.Nb(47,"input",13),r.Rb(),r.Rb(),r.Sb(48,"div",3),r.Nb(49,"label"),r.Sb(50,"button",14),r.zc(51,"Register"),r.Rb(),r.Sb(52,"button",15),r.Zb("click",function(){return e.cancel()}),r.zc(53,"Cancel"),r.Rb(),r.Nb(54,"div",16),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.jc("formGroup",e.clientForm),r.Bb(5),r.jc("ngIf",e.isControlInvalid("userName")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("firstName")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("lastName")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("email")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("phoneNumber")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("password")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("repeatedPassword")))},directives:[g.a,o.u,o.n,o.h,i.l,y.c,y.f,w.b,o.b,o.s,o.m,o.f,h.a],styles:[".container[_ngcontent-%COMP%]{position:relative;margin-left:30%;width:40%;height:20%}.form-button[_ngcontent-%COMP%]{display:table-cell;margin-right:15px;margin-left:0}mat-icon[_ngcontent-%COMP%]{margin:10px}.card[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}mat-card[_ngcontent-%COMP%]{margin:20px 0}strong[_ngcontent-%COMP%]{color:#f44336}form[_ngcontent-%COMP%]{margin-top:10px}.form_item[_ngcontent-%COMP%]{width:auto}mat-form-field[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:100%}textarea[_ngcontent-%COMP%]{resize:none;max-height:100px}select[_ngcontent-%COMP%]{width:328px}.form_buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:20px}.form_buttons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-right:0}.error[_ngcontent-%COMP%]{color:red;font-weight:400;font-size:small}button[_ngcontent-%COMP%]{margin:10px}"]}),t})();var pt=n("ihCf"),dt=n("iadO");function ut(t,e){if(1&t&&(r.Sb(0,"mat-option",17),r.zc(1),r.Rb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Bb(1),r.Bc(" ",t.name," ")}}function gt(t,e){if(1&t&&(r.Sb(0,"mat-option",17),r.zc(1),r.Rb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Bb(1),r.Bc(" ",t.serviceName," ")}}let ht=(()=>{class t{constructor(t,e,n){this.router=t,this.apiService=e,this.authService=n,this.todayDate=new Date,this.animalControl=new o.d("",[o.t.required]),this.serviceControl=new o.d("",[o.t.required]),this.dateControl=new o.d("",[o.t.required]),this.complaintsControl=new o.d("",[o.t.required]),this.appointmentForm=new o.g({animalControl:this.animalControl,serviceControl:this.serviceControl,dateControl:this.dateControl,complaintsControl:this.complaintsControl})}onSubmit(){this.apiService.addEntity("appointments",{animalId:this.appointmentForm.value.animalControl,serviceId:this.appointmentForm.value.serviceControl,complaints:this.appointmentForm.value.complaintsControl,appointmentDate:this.appointmentForm.value.dateControl}).subscribe(t=>{console.log(t),this.router.navigate(["client"])},t=>{console.log(t)})}ngOnInit(){this.getAnimals(),this.getServices()}getAnimals(){this.apiService.getEntity("clients",{userId:this.authService.userData.sub}).subscribe(t=>{this.apiService.getEntity("animals",{clientId:t.data[0].id.toString()}).subscribe(t=>{this.animals=t.data})})}getServices(){this.apiService.getEntity("services").subscribe(t=>{this.services=t.data})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a.b),r.Mb(R.a),r.Mb(x.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-make-appointment"]],decls:33,vars:11,consts:[[1,"appointment-container"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"column"],["appearance","fill"],["required","","name","animal",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["required","","name","service",3,"formControl"],[1,"example-full-width"],["required","","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","15","cdkAutosizeMaxRows","20","placeholder","Ex. My dog is sick",3,"formControl"],["required","","matInput","",3,"formControl","min","matDatepicker"],["matSuffix","",3,"for"],["picker1",""],[1,"actions"],["mat-raised-button",""],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(t,e){if(1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"mat-form-field",5),r.Sb(6,"mat-label"),r.zc(7,"Choose animal"),r.Rb(),r.Sb(8,"mat-select",6),r.yc(9,ut,2,2,"mat-option",7),r.Rb(),r.Rb(),r.Sb(10,"mat-form-field",5),r.Sb(11,"mat-label"),r.zc(12,"Choose service"),r.Rb(),r.Sb(13,"mat-select",8),r.yc(14,gt,2,2,"mat-option",7),r.Rb(),r.Rb(),r.Sb(15,"mat-form-field",9),r.Sb(16,"mat-label"),r.zc(17,"Reason for visit"),r.Rb(),r.Nb(18,"textarea",10),r.Rb(),r.Rb(),r.Sb(19,"div",4),r.Sb(20,"mat-form-field",5),r.Sb(21,"mat-label"),r.zc(22,"Choose date"),r.Rb(),r.Nb(23,"input",11),r.Nb(24,"mat-datepicker-toggle",12),r.Nb(25,"mat-datepicker",null,13),r.Rb(),r.Rb(),r.Rb(),r.Nb(27,"mat-divider"),r.Sb(28,"div",14),r.Sb(29,"button",15),r.zc(30,"Cancel"),r.Rb(),r.Sb(31,"button",16),r.zc(32,"Accept "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.oc(26);r.Bb(2),r.jc("formGroup",e.appointmentForm),r.Bb(6),r.jc("formControl",e.animalControl),r.Bb(1),r.jc("ngForOf",e.animals),r.Bb(4),r.jc("formControl",e.serviceControl),r.Bb(1),r.jc("ngForOf",e.services),r.Bb(4),r.jc("formControl",e.complaintsControl),r.Bb(5),r.jc("formControl",e.dateControl)("min",e.todayDate)("matDatepicker",t),r.Bb(1),r.jc("for",t),r.Bb(7),r.jc("disabled",e.appointmentForm.invalid)}},directives:[g.a,o.u,o.n,o.h,y.c,y.f,M.a,o.s,o.m,o.e,i.k,w.b,pt.b,o.b,dt.b,dt.d,y.g,dt.a,O.a,h.a,P.n],styles:[".appointment-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.container[_ngcontent-%COMP%]{padding:20px;width:680px}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.column[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:297px;padding:20px}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();var ft=n("Hs9l"),vt=n("k5xN"),St=n("CzQJ");function Ct(t,e){1&t&&(r.Sb(0,"div",6),r.Sb(1,"p"),r.zc(2,"First name cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"First name max length is 30"),r.Rb(),r.Rb())}function Rt(t,e){1&t&&(r.Sb(0,"div",6),r.Sb(1,"p"),r.zc(2,"Last name cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Last name max length is 30"),r.Rb(),r.Rb())}function xt(t,e){1&t&&(r.Sb(0,"div",6),r.Sb(1,"p"),r.zc(2,"Email cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Email has to match '..@..' format"),r.Rb(),r.Sb(5,"p"),r.zc(6,"Email max length is 50"),r.Rb(),r.Rb())}function yt(t,e){1&t&&(r.Sb(0,"div",6),r.Sb(1,"p"),r.zc(2,"Phone number cannot be empty"),r.Rb(),r.Sb(3,"p"),r.zc(4,"Phone number must have exactly 12 digits"),r.Rb(),r.Rb())}let wt=(()=>{class t{constructor(t,e,n,i,a,l){this.apiService=t,this.http=e,this.authService=n,this.clientService=i,this.emailService=a,this.dialogService=l,this.clientForm=new o.g({firstName:new o.d("",[o.t.required,o.t.maxLength(30)]),lastName:new o.d("",[o.t.required,o.t.maxLength(30)]),email:new o.d("",[o.t.required,o.t.maxLength(50),o.t.email]),phoneNumber:new o.d("",[o.t.required,o.t.pattern("^[0-9]{12}$")])}),this.initializeClient()}ngOnInit(){}isControlInvalid(t){const e=this.clientForm.controls[t];return e.invalid&&e.touched}onSubmit(){const t=this.clientForm.controls;if(this.clientForm.invalid)return alert("invalid"),void Object.keys(t).forEach(e=>t[e].markAsTouched());this.edit()}edit(){this.apiService.updateEntity("clients",this.client.id,{userName:this.client.userName,firstName:this.clientForm.value.firstName,lastName:this.clientForm.value.lastName,email:this.clientForm.value.email,phoneNumber:this.clientForm.value.phoneNumber,userId:this.id}).subscribe(()=>{this.clientService.clientCabinetEnter()})}cancel(){console.log("cancelled"),this.clientService.clientCabinetEnter()}initializeClient(){this.id=this.authService.userData.sub,this.apiService.getEntity("clients",{UserId:this.id}).subscribe(t=>{this.client=t.data[0],this.fillForm()},t=>console.log("error : "+t))}fillForm(){this.clientForm.patchValue({firstName:this.client.firstName,lastName:this.client.lastName,email:this.client.email,phoneNumber:this.client.phoneNumber})}ondelete(){this.dialogService.openConfirmDialog("Are you sure to delete this profile?").afterClosed().subscribe(t=>{t&&this.delete()})}delete(){this.apiService.updateEntity("clients",this.client.id,{userName:this.client.userName,firstName:this.client.firstName,lastName:this.client.lastName,email:this.client.email,phoneNumber:this.client.phoneNumber,userId:this.id,isDeleted:!0}).subscribe(()=>{this.authService.logout(),this.clientService.mainAppPage()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(R.a),r.Mb(et.b),r.Mb(x.a),r.Mb(nt),r.Mb(it.a),r.Mb(St.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-client-edit-form"]],decls:42,vars:5,consts:[[1,"container"],[1,"main-card"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"text-center","text-primary"],["id","delete-button","mat-raised-button","","color","warn","type","button",1,"form-button",3,"click"],[1,"error"],["class","error",4,"ngIf"],["appearance","fill"],["matInput","","required","","type","text","name","firstName","formControlName","firstName"],["matInput","","required","","type","text","name","lastName","formControlName","lastName"],["matInput","","required","","type","text","name","email","formControlName","email"],["matInput","","required","","type","text","name","phoneNumber","formControlName","phoneNumber"],["id","register-button","mat-raised-button","","color","primary","type","submit",1,"form-button"],["id","cancel-button","mat-raised-button","","color","warn","type","button",1,"form-button",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"h1",4),r.zc(5,"Update"),r.Rb(),r.Rb(),r.Sb(6,"div",3),r.Nb(7,"label"),r.Sb(8,"button",5),r.Zb("click",function(){return e.ondelete()}),r.zc(9,"Delete profile"),r.Rb(),r.Nb(10,"div",6),r.Rb(),r.Sb(11,"div",3),r.yc(12,Ct,5,0,"div",7),r.Sb(13,"mat-form-field",8),r.Sb(14,"mat-label"),r.zc(15,"First name"),r.Rb(),r.Nb(16,"input",9),r.Rb(),r.Rb(),r.Sb(17,"div",3),r.yc(18,Rt,5,0,"div",7),r.Sb(19,"mat-form-field",8),r.Sb(20,"mat-label"),r.zc(21,"Last name"),r.Rb(),r.Nb(22,"input",10),r.Rb(),r.Rb(),r.Sb(23,"div",3),r.yc(24,xt,7,0,"div",7),r.Sb(25,"mat-form-field",8),r.Sb(26,"mat-label"),r.zc(27,"Email"),r.Rb(),r.Nb(28,"input",11),r.Rb(),r.Rb(),r.Sb(29,"div",3),r.yc(30,yt,5,0,"div",7),r.Sb(31,"mat-form-field",8),r.Sb(32,"mat-label"),r.zc(33,"Phone"),r.Rb(),r.Nb(34,"input",12),r.Rb(),r.Rb(),r.Sb(35,"div",3),r.Nb(36,"label"),r.Sb(37,"button",13),r.zc(38,"Update"),r.Rb(),r.Sb(39,"button",14),r.Zb("click",function(){return e.cancel()}),r.zc(40,"Cancel"),r.Rb(),r.Nb(41,"div",6),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.jc("formGroup",e.clientForm),r.Bb(10),r.jc("ngIf",e.isControlInvalid("firstName")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("lastName")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("email")),r.Bb(6),r.jc("ngIf",e.isControlInvalid("phoneNumber")))},directives:[g.a,o.u,o.n,o.h,h.a,i.l,y.c,y.f,w.b,o.b,o.s,o.m,o.f],styles:[".container[_ngcontent-%COMP%]{position:relative;margin-left:30%;width:40%;height:20%}.form-button[_ngcontent-%COMP%]{display:table-cell;margin-right:15px;margin-left:0}mat-icon[_ngcontent-%COMP%]{margin:10px}.card[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}mat-card[_ngcontent-%COMP%]{margin:20px 0}strong[_ngcontent-%COMP%]{color:#f44336}form[_ngcontent-%COMP%]{margin-top:10px}.form_item[_ngcontent-%COMP%]{width:auto}mat-form-field[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:100%}textarea[_ngcontent-%COMP%]{resize:none;max-height:100px}select[_ngcontent-%COMP%]{width:328px}.form_buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:20px}.form_buttons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-right:0}.error[_ngcontent-%COMP%]{color:red;font-weight:400;font-size:small}button[_ngcontent-%COMP%]{margin:10px}"]}),t})(),Mt=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.post=e,this.apiService=n,this.titleControl=new o.d("",[o.t.required,o.t.maxLength(25)]),this.subtitleControl=new o.d(null,[o.t.required,o.t.maxLength(50)]),this.mainTextControl=new o.d("",[o.t.required,o.t.maxLength(500)]),this.postGroup=new o.g({title:this.titleControl,subtitle:this.subtitleControl,mainText:this.mainTextControl})}ngOnInit(){}onSubmit(){const t={title:this.titleControl.value,subtitle:this.subtitleControl.value,mainText:this.mainTextControl.value,photo:"photo"};this.apiService.addEntity("posts",t).subscribe(e=>{this.data={id:e.id,title:t.title,subtitle:t.subtitle,mainText:t.mainText,photo:""},this.dialogRef.close(this.data),console.log(this.data)},t=>{console.log(t)})}onNoClick(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.f),r.Mb(C.a),r.Mb(R.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-add-news-item"]],decls:23,vars:5,consts:[[1,"add-news-container"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"column"],["name","title","ngDefaultControl","",1,"example-full-width"],["matInput","","type","text",3,"formControl"],["name","subtitle","ngDefaultControl","",1,"example-full-width"],["appearance","fill"],[1,"actions"],["mat-raised-button","","type","reset",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"mat-form-field",5),r.Sb(6,"mat-label"),r.zc(7,"Title"),r.Rb(),r.Nb(8,"input",6),r.Rb(),r.Sb(9,"mat-form-field",7),r.Sb(10,"mat-label"),r.zc(11,"Subtitle"),r.Rb(),r.Nb(12,"input",6),r.Rb(),r.Sb(13,"mat-form-field",8),r.Sb(14,"mat-label"),r.zc(15,"Main text"),r.Rb(),r.Nb(16,"input",6),r.Rb(),r.Rb(),r.Rb(),r.Nb(17,"mat-divider"),r.Sb(18,"div",9),r.Sb(19,"button",10),r.Zb("click",function(){return e.onNoClick()}),r.zc(20,"Cancel"),r.Rb(),r.Sb(21,"button",11),r.zc(22,"Accept"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.jc("formGroup",e.postGroup),r.Bb(6),r.jc("formControl",e.titleControl),r.Bb(4),r.jc("formControl",e.subtitleControl),r.Bb(4),r.jc("formControl",e.mainTextControl),r.Bb(5),r.jc("disabled",e.postGroup.invalid))},directives:[g.a,o.u,o.n,o.h,y.c,o.b,y.f,w.b,o.m,o.e,O.a,h.a],styles:[".add-news-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.container[_ngcontent-%COMP%]{padding:20px;width:680px}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.column[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:297px;padding:20px}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})(),Ot=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.apiService=n,this.titleControl=new o.d("",[o.t.required,o.t.maxLength(25)]),this.subtitleControl=new o.d(null,[o.t.required,o.t.maxLength(50)]),this.mainTextControl=new o.d("",[o.t.required,o.t.maxLength(500)]),this.postData=e,this.postGroup=new o.g({title:this.titleControl,subtitle:this.subtitleControl,mainText:this.mainTextControl})}ngOnInit(){}onSubmit(){const t={title:this.titleControl.value,subtitle:this.subtitleControl.value,mainText:this.mainTextControl.value,photo:"photo"};this.apiService.updateEntity("posts",this.postData.id?this.postData.id:0,t).subscribe(()=>{this.data={id:this.postData.id,title:t.title,subtitle:t.subtitle,mainText:t.mainText,photo:""},this.dialogRef.close(this.data),console.log(this.data)},t=>{console.log(t)})}onNoClick(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.f),r.Mb(C.a),r.Mb(R.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-edit-news-item"]],decls:23,vars:5,consts:[[1,"edit-news-container"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"column"],["name","title","ngDefaultControl","",1,"example-full-width"],["matInput","","type","text",3,"formControl"],["name","subtitle","ngDefaultControl","",1,"example-full-width"],["appearance","fill"],[1,"actions"],["mat-raised-button","","type","reset",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"form",2),r.Zb("ngSubmit",function(){return e.onSubmit()}),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"mat-form-field",5),r.Sb(6,"mat-label"),r.zc(7,"Title"),r.Rb(),r.Nb(8,"input",6),r.Rb(),r.Sb(9,"mat-form-field",7),r.Sb(10,"mat-label"),r.zc(11,"Subtitle"),r.Rb(),r.Nb(12,"input",6),r.Rb(),r.Sb(13,"mat-form-field",8),r.Sb(14,"mat-label"),r.zc(15,"Main text"),r.Rb(),r.Nb(16,"input",6),r.Rb(),r.Rb(),r.Rb(),r.Nb(17,"mat-divider"),r.Sb(18,"div",9),r.Sb(19,"button",10),r.Zb("click",function(){return e.onNoClick()}),r.zc(20,"Cancel"),r.Rb(),r.Sb(21,"button",11),r.zc(22,"Accept"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.jc("formGroup",e.postGroup),r.Bb(6),r.jc("formControl",e.titleControl),r.Bb(4),r.jc("formControl",e.subtitleControl),r.Bb(4),r.jc("formControl",e.mainTextControl),r.Bb(5),r.jc("disabled",e.postGroup.invalid))},directives:[g.a,o.u,o.n,o.h,y.c,o.b,y.f,w.b,o.m,o.e,O.a,h.a],styles:[".edit-news-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.container[_ngcontent-%COMP%]{padding:20px;width:680px}.row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.column[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:297px;padding:20px}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();function Pt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"mat-icon",3),r.Zb("click",function(){return r.qc(t),r.dc().goToSettings()}),r.zc(1,"more_vert"),r.Rb()}}function Nt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"mat-icon",3),r.Zb("click",function(){return r.qc(t),r.dc().openAssessDialog()}),r.zc(1,"clear"),r.Rb()}}let _t=(()=>{class t{constructor(t,e){this.dialog=t,this.apiService=e,this.deleteItemEvent=new r.o}ngOnInit(){}goToSettings(){this.dialog.open(Ot,{width:"450px",data:this.post}).afterClosed().subscribe(t=>{null!=t&&(this.post.title=t.title,this.post.subtitle=t.subtitle,this.post.mainText=t.mainText)})}deletePost(){this.apiService.deleteEntity("posts",this.post.id).subscribe(()=>{this.deleteItemEvent.emit(this.post)})}openAssessDialog(){this.dialog.open(Z.a,{data:"Do you really want to remove this post?"}).afterClosed().subscribe(t=>{t&&this.deletePost()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(C.b),r.Mb(R.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-news-item"]],inputs:{post:"post",isAdmin:"isAdmin"},outputs:{deleteItemEvent:"deleteItemEvent"},decls:13,vars:5,consts:[[3,"click",4,"ngIf"],[1,"example-card"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],[3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"mat-expansion-panel"),r.Sb(1,"mat-expansion-panel-header"),r.Sb(2,"mat-panel-title"),r.zc(3),r.Rb(),r.Sb(4,"mat-panel-description"),r.zc(5),r.Rb(),r.yc(6,Pt,2,0,"mat-icon",0),r.yc(7,Nt,2,0,"mat-icon",0),r.Rb(),r.Sb(8,"mat-card",1),r.Nb(9,"img",2),r.Sb(10,"mat-card-content"),r.Sb(11,"p"),r.zc(12),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(3),r.Ac(e.post.title),r.Bb(2),r.Bc(" ",e.post.subtitle," "),r.Bb(1),r.jc("ngIf",e.isAdmin),r.Bb(1),r.jc("ngIf",e.isAdmin),r.Bb(5),r.Bc(" ",e.post.mainText," "))},directives:[m.c,m.e,m.f,m.d,i.l,g.a,g.c,g.b,b.a],styles:[""]}),t})();function zt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"mat-expansion-panel",3),r.Sb(1,"mat-expansion-panel-header"),r.zc(2," Add news item "),r.Rb(),r.Sb(3,"button",4),r.Zb("click",function(){return r.qc(t),r.dc().createPost()}),r.zc(4,"Create news item"),r.Rb(),r.Rb()}}function It(t,e){if(1&t){const t=r.Tb();r.Sb(0,"app-news-item",5),r.Zb("deleteItemEvent",function(e){return r.qc(t),r.dc().deleteNewsItem(e)}),r.Rb()}if(2&t){const t=e.$implicit,n=r.dc();r.jc("post",t)("isAdmin",n.isAdmin)}}const At=[{path:"client/make-appointment",component:ht,canActivate:[ft.a,vt.a],data:{roles:["client"]}},{path:"client/add-animal",component:_,canActivate:[ft.a,vt.a],data:{roles:["client"]}},{path:"services",component:u},{path:"client",component:tt},{path:"",component:S},{path:"create-client",component:bt},{path:"client/edit-client",component:wt},{path:"news",component:(()=>{class t{constructor(t,e,n){this.postService=t,this.dialog=e,this.authService=n}ngOnInit(){this.postService.getEntity("posts").subscribe(t=>{this.postsPageResponse=t,console.log(this.postsPageResponse)}),this.isAdmin=this.authService.isInRole("admin")}createPost(){this.dialog.open(Mt,{width:"450px",data:""}).afterClosed().subscribe(t=>{null!=t&&this.postsPageResponse.data.push(t)})}deleteNewsItem(t){this.postsPageResponse.data=this.postsPageResponse.data.filter(e=>e.id!=t.id)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(R.a),r.Mb(C.b),r.Mb(x.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-news-ribbon"]],decls:3,vars:2,consts:[[1,"news-item-container"],["class","news-item",4,"ngIf"],["class","news-item",3,"post","isAdmin","deleteItemEvent",4,"ngFor","ngForOf"],[1,"news-item"],["mat-button","",3,"click"],[1,"news-item",3,"post","isAdmin","deleteItemEvent"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.yc(1,zt,5,0,"mat-expansion-panel",1),r.yc(2,It,1,2,"app-news-item",2),r.Rb()),2&t&&(r.Bb(1),r.jc("ngIf",e.isAdmin),r.Bb(1),r.jc("ngForOf",null==e.postsPageResponse?null:e.postsPageResponse.data))},directives:[i.l,i.k,m.c,m.e,h.a,_t],styles:[".news-item-container[_ngcontent-%COMP%]{display:flex;flex-flow:column}.news-item[_ngcontent-%COMP%]{align-self:center;align-content:space-around}app-news-item[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()}];let jt=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.c,a.f.forChild(At),l.a,o.i,o.r,c.a]]}),t})()}}]);